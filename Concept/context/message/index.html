
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A lightweight Python framework for building intelligent agents and multi-agent workflows.">
      
      
      
        <link rel="canonical" href="https://10xhub.github.io/taf/Concept/context/message/">
      
      
        <link rel="prev" href="../context-manager/">
      
      
        <link rel="next" href="../state/">
      
      
      <link rel="icon" href="../../../None">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Messages: The Lifeblood of Agent Communication - 10xScale Agentflow</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#messages-the-lifeblood-of-agent-communication" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="10xScale Agentflow" class="md-header__button md-logo" aria-label="10xScale Agentflow" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            10xScale Agentflow
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Messages: The Lifeblood of Agent Communication
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/10xhub/taf" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    10xhub/agentflow
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  10xScale Agentflow

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../../" class="md-tabs__link">
        
  
  
    
  
  Concept

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Tutorial/" class="md-tabs__link">
        
  
  
    
  
  Tutorial

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../reference/" class="md-tabs__link">
        
  
  
    
  
  Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="10xScale Agentflow" class="md-nav__button md-logo" aria-label="10xScale Agentflow" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    10xScale Agentflow
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/10xhub/taf" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    10xhub/agentflow
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10xScale Agentflow
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Concept
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Concept
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Callbacks: Interception and Flow Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands: Combining State Updates with Control Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Threadname/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Threadname
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dependency-injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dependency Injection in 10xScale Agentflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../id_generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Id generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publisher: Real-time Agent Observability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../response_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Response converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Context
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Context
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../checkpointer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checkpointer: The Agent's Session Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Messages: The Lifeblood of Agent Communication
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Messages: The Lifeblood of Agent Communication
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-message-as-a-living-entity" class="md-nav__link">
    <span class="md-ellipsis">
      The Message as a Living Entity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Message as a Living Entity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-anatomy-of-intelligence-message-components" class="md-nav__link">
    <span class="md-ellipsis">
      The Anatomy of Intelligence: Message Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Anatomy of Intelligence: Message Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-identity" class="md-nav__link">
    <span class="md-ellipsis">
      Core Identity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-payload" class="md-nav__link">
    <span class="md-ellipsis">
      Content Payload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextual-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Contextual Metadata
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#role-based-communication-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Role-Based Communication Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Role-Based Communication Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-role-the-human-voice" class="md-nav__link">
    <span class="md-ellipsis">
      User Role: The Human Voice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assistant-role-the-agents-intelligence" class="md-nav__link">
    <span class="md-ellipsis">
      Assistant Role: The Agent's Intelligence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-role-the-orchestration-layer" class="md-nav__link">
    <span class="md-ellipsis">
      System Role: The Orchestration Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-role-the-action-result-bridge" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Role: The Action-Result Bridge
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-blocks-multimodal-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Content Blocks: Multimodal Communication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Content Blocks: Multimodal Communication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#text-blocks-fundamental-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Text Blocks: Fundamental Communication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#media-blocks-rich-content-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Media Blocks: Rich Content Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-interaction-blocks-structured-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Interaction Blocks: Structured Actions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-lifecycle-and-flow-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Message Lifecycle and Flow Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Lifecycle and Flow Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linear-conversation-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Linear Conversation Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branching-tool-interactions" class="md-nav__link">
    <span class="md-ellipsis">
      Branching Tool Interactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextual-message-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      Contextual Message Chaining
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-message-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Message Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Message Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streaming-and-delta-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming and Delta Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-rich-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata-Rich Communication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-creation-patterns-and-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Message Creation Patterns and Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Creation Patterns and Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#factory-methods-for-common-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Factory Methods for Common Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-assembly-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Content Assembly Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextual-message-enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      Contextual Message Enrichment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-management-and-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Token Management and Optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Token Management and Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#token-usage-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Token Usage Tracking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-optimization-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Content Optimization Strategies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-validation-and-quality-assurance" class="md-nav__link">
    <span class="md-ellipsis">
      Message Validation and Quality Assurance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Validation and Quality Assurance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#content-validation-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Content Validation Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency Verification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-agent-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with Agent Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with Agent Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state-integration-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      State Integration Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-node-message-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Node Message Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-for-message-design" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices for Message Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices for Message Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#design-for-observability" class="md-nav__link">
    <span class="md-ellipsis">
      Design for Observability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimize-for-context-window-management" class="md-nav__link">
    <span class="md-ellipsis">
      Optimize for Context Window Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      Enable Graceful Degradation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion-messages-as-the-foundation-of-intelligence" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion: Messages as the Foundation of Intelligence
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent State: The Mind of Your Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Store: The Agent's Knowledge Memory
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../graph/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Graph
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            Graph
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/Config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graph Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Patterns &amp; Performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/control_flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Control Flow &amp; Edges
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Execution &amp; Streaming Runtime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/human-in-the-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Human-in-the-Loop (HITL) &amp; Interrupts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nodes &amp; Return Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graph/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools &amp; Integrations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Tutorial/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/long_term_memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Long-Term Memory with Mem0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/plan_act_reflect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plan-Act-Reflect Pattern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/qdrant_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QdrantStore Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG (Retrieval-Augmented Generation) with 10xScale Agentflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Tutorial/react/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    React
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            React
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/react/01-basic-react/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic React Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/react/02-dependency-injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    React Agents with Dependency Injection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/react/03-mcp-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    React Agents with Model Context Protocol (MCP)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tutorial/react/04-streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    React Agents with Streaming Responses
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/adapters/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Adapters
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Adapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/adapters/llm/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Llm
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_1" id="__nav_4_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_1">
            <span class="md-nav__icon md-icon"></span>
            Llm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/adapters/llm/base_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/adapters/llm/litellm_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Litellm converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/adapters/llm/model_response_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model response converter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/adapters/tools/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/adapters/tools/composio_adapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Composio adapter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/adapters/tools/langchain_adapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Langchain adapter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/checkpointer/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Checkpointer
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Checkpointer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/checkpointer/base_checkpointer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base checkpointer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/checkpointer/in_memory_checkpointer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    In memory checkpointer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/checkpointer/pg_checkpointer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pg checkpointer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/exceptions/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Exceptions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/exceptions/graph_error/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graph error
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/exceptions/node_error/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node error
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/exceptions/recursion_error/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recursion error
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/exceptions/storage_exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/graph/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Graph
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Graph
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/compiled_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compiled graph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/edge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Edge
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/state_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    State graph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/graph/tool_node/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tool node
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_5" id="__nav_4_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5">
            <span class="md-nav__icon md-icon"></span>
            Tool node
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/tool_node/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/tool_node/constants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/tool_node/deps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/tool_node/executors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Executors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/tool_node/schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schema
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/graph/utils/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4_6" id="__nav_4_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_6">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/handler_mixins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Handler mixins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/invoke_handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Invoke handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/invoke_node_handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Invoke node handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/stream_handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stream handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/stream_node_handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stream node handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/stream_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stream utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/graph/utils/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/prebuilt/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Prebuilt
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Prebuilt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/prebuilt/agent/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Agent
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5_1" id="__nav_4_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_1">
            <span class="md-nav__icon md-icon"></span>
            Agent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/branch_join/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Branch join
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/deep_research/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep research
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/guarded/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guarded
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/map_reduce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Map reduce
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/plan_act_reflect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plan act reflect
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rag
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/react/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    React
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/router/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Router
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/sequential/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sequential
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/supervisor_team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supervisor team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/prebuilt/agent/swarm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Swarm
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/publisher/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Publisher
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Publisher
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/base_publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base publisher
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/console_publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Console publisher
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/kafka_publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kafka publisher
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/publish/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publish
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/rabbitmq_publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rabbitmq publisher
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/publisher/redis_publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Redis publisher
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/state/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    State
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            State
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/agent_state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent state
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/base_context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/execution_state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Execution state
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/message/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/message_block/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message block
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/message_context_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message context manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/reducers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reducers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/state/stream_chunks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stream chunks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/store/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Store
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Store
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/store/base_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/store/mem0_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mem0 store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/store/qdrant_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Qdrant store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/store/store_schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Store schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/store/embedding/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Embedding
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_8_5" id="__nav_4_8_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_5">
            <span class="md-nav__icon md-icon"></span>
            Embedding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/store/embedding/base_embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base embedding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/store/embedding/openai_embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Openai embedding
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/utils/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/background_task_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Background task manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/callable_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Callable utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Callbacks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/constants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/id_generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Id generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/thread_info/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thread info
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/utils/thread_name_generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thread name generator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-message-as-a-living-entity" class="md-nav__link">
    <span class="md-ellipsis">
      The Message as a Living Entity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Message as a Living Entity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-anatomy-of-intelligence-message-components" class="md-nav__link">
    <span class="md-ellipsis">
      The Anatomy of Intelligence: Message Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Anatomy of Intelligence: Message Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-identity" class="md-nav__link">
    <span class="md-ellipsis">
      Core Identity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-payload" class="md-nav__link">
    <span class="md-ellipsis">
      Content Payload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextual-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Contextual Metadata
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#role-based-communication-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Role-Based Communication Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Role-Based Communication Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-role-the-human-voice" class="md-nav__link">
    <span class="md-ellipsis">
      User Role: The Human Voice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assistant-role-the-agents-intelligence" class="md-nav__link">
    <span class="md-ellipsis">
      Assistant Role: The Agent's Intelligence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-role-the-orchestration-layer" class="md-nav__link">
    <span class="md-ellipsis">
      System Role: The Orchestration Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-role-the-action-result-bridge" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Role: The Action-Result Bridge
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-blocks-multimodal-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Content Blocks: Multimodal Communication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Content Blocks: Multimodal Communication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#text-blocks-fundamental-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Text Blocks: Fundamental Communication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#media-blocks-rich-content-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Media Blocks: Rich Content Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-interaction-blocks-structured-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Interaction Blocks: Structured Actions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-lifecycle-and-flow-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Message Lifecycle and Flow Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Lifecycle and Flow Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linear-conversation-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Linear Conversation Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branching-tool-interactions" class="md-nav__link">
    <span class="md-ellipsis">
      Branching Tool Interactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextual-message-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      Contextual Message Chaining
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-message-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Message Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Message Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streaming-and-delta-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming and Delta Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-rich-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata-Rich Communication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-creation-patterns-and-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Message Creation Patterns and Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Creation Patterns and Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#factory-methods-for-common-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Factory Methods for Common Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-assembly-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Content Assembly Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextual-message-enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      Contextual Message Enrichment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-management-and-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Token Management and Optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Token Management and Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#token-usage-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Token Usage Tracking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-optimization-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Content Optimization Strategies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-validation-and-quality-assurance" class="md-nav__link">
    <span class="md-ellipsis">
      Message Validation and Quality Assurance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Validation and Quality Assurance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#content-validation-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Content Validation Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency Verification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-agent-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Integration with Agent Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration with Agent Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state-integration-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      State Integration Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-node-message-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Node Message Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices-for-message-design" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices for Message Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices for Message Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#design-for-observability" class="md-nav__link">
    <span class="md-ellipsis">
      Design for Observability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimize-for-context-window-management" class="md-nav__link">
    <span class="md-ellipsis">
      Optimize for Context Window Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      Enable Graceful Degradation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion-messages-as-the-foundation-of-intelligence" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion: Messages as the Foundation of Intelligence
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="messages-the-lifeblood-of-agent-communication">Messages: The Lifeblood of Agent Communication<a class="headerlink" href="#messages-the-lifeblood-of-agent-communication" title="Permanent link">&para;</a></h1>
<p>Messages in 10xScale Agentflow are far more than simple text containersthey are the <strong>fundamental units of communication</strong> that flow through your agent graphs, carrying not just content but rich context, metadata, and semantic information that enables sophisticated agent interactions. Understanding messages deeply is crucial for building agents that can engage in complex, multimodal conversations.</p>
<h2 id="the-message-as-a-living-entity">The Message as a Living Entity<a class="headerlink" href="#the-message-as-a-living-entity" title="Permanent link">&para;</a></h2>
<p>Think of a <code>Message</code> as a <strong>living communication artifact</strong> that captures not just what was said, but the complete context of how it was said, when, by whom, and with what intent. Each message carries a comprehensive record of its place in the conversation ecosystem.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">agentflow.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">Message</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># A message is more than textit&#39;s a rich communication artifact</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">message_id</span><span class="o">=</span><span class="s2">&quot;conv_123_msg_456&quot;</span><span class="p">,</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Can you help me understand machine learning?&quot;</span><span class="p">)],</span>
    <span class="n">timestamp</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;user_intent&quot;</span><span class="p">:</span> <span class="s2">&quot;learning&quot;</span><span class="p">,</span> <span class="s2">&quot;complexity_preference&quot;</span><span class="p">:</span> <span class="s2">&quot;beginner&quot;</span><span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="the-anatomy-of-intelligence-message-components">The Anatomy of Intelligence: Message Components<a class="headerlink" href="#the-anatomy-of-intelligence-message-components" title="Permanent link">&para;</a></h3>
<p>Every message in 10xScale Agentflow contains multiple layers of information that collectively enable intelligent communication:</p>
<h4 id="core-identity"><strong>Core Identity</strong><a class="headerlink" href="#core-identity" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Message ID</strong>: Unique identifier for tracking and reference</li>
<li><strong>Role</strong>: The communicator's identity (user, assistant, system, tool)</li>
<li><strong>Timestamp</strong>: Temporal context for the communication</li>
</ul>
<h4 id="content-payload"><strong>Content Payload</strong><a class="headerlink" href="#content-payload" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Content Blocks</strong>: Rich, multimodal content representation</li>
<li><strong>Delta Flag</strong>: Indicates streaming/partial content</li>
<li><strong>Tool Calls</strong>: Structured function invocations</li>
</ul>
<h4 id="contextual-metadata"><strong>Contextual Metadata</strong><a class="headerlink" href="#contextual-metadata" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Usage Statistics</strong>: Token consumption and computational cost</li>
<li><strong>Metadata Dictionary</strong>: Extensible context information</li>
<li><strong>Raw Data</strong>: Original response preservation</li>
</ul>
<h2 id="role-based-communication-patterns">Role-Based Communication Patterns<a class="headerlink" href="#role-based-communication-patterns" title="Permanent link">&para;</a></h2>
<p>The <code>role</code> field isn't just a labelit defines <strong>communication patterns</strong> and <strong>behavioral expectations</strong> that govern how agents process and respond to messages:</p>
<h3 id="user-role-the-human-voice"><strong>User Role</strong>: The Human Voice<a class="headerlink" href="#user-role-the-human-voice" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">user_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span>
    <span class="s2">&quot;I need help with my Python code that&#39;s running slowly&quot;</span><span class="p">,</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>User messages</strong> represent human input and intent. They typically:
- Initiate new conversation threads
- Provide context and requirements
- Express needs, questions, or feedback
- Drive the overall conversation direction</p>
<h3 id="assistant-role-the-agents-intelligence"><strong>Assistant Role</strong>: The Agent's Intelligence<a class="headerlink" href="#assistant-role-the-agents-intelligence" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">assistant_message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;I&#39;ll help you optimize your Python code. Can you share the specific code that&#39;s running slowly?&quot;</span><span class="p">)],</span>
    <span class="n">tools_calls</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;analyze_code_001&quot;</span><span class="p">,</span>
            <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code_analyzer&quot;</span><span class="p">,</span>
                <span class="s2">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;request_type&quot;</span><span class="p">:</span> <span class="s2">&quot;performance_analysis&quot;</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Assistant messages</strong> embody the agent's intelligence. They can:
- Provide informative responses
- Ask clarifying questions
- Invoke tools and external services
- Synthesize information from multiple sources</p>
<h3 id="system-role-the-orchestration-layer"><strong>System Role</strong>: The Orchestration Layer<a class="headerlink" href="#system-role-the-orchestration-layer" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">system_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span>
    <span class="s2">&quot;You are a senior software engineer specializing in Python performance optimization. Provide detailed, actionable advice.&quot;</span><span class="p">,</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;system&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>System messages</strong> define <strong>behavioral context</strong> and <strong>operational parameters</strong>:
- Establish agent persona and expertise
- Provide conversation context and history summaries
- Set behavioral guidelines and constraints
- Inject relevant knowledge and background information</p>
<h3 id="tool-role-the-action-result-bridge"><strong>Tool Role</strong>: The Action-Result Bridge<a class="headerlink" href="#tool-role-the-action-result-bridge" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">tool_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">ToolResultBlock</span><span class="p">(</span>
        <span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;analyze_code_001&quot;</span><span class="p">,</span>
        <span class="n">output</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;performance_issues&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;inefficient loop&quot;</span><span class="p">,</span> <span class="s2">&quot;unnecessary object creation&quot;</span><span class="p">],</span>
            <span class="s2">&quot;recommendations&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;use list comprehension&quot;</span><span class="p">,</span> <span class="s2">&quot;cache repeated calculations&quot;</span><span class="p">],</span>
            <span class="s2">&quot;estimated_speedup&quot;</span><span class="p">:</span> <span class="s2">&quot;3-5x&quot;</span>
        <span class="p">},</span>
        <span class="n">is_error</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="s2">&quot;completed&quot;</span>
    <span class="p">)]</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Tool messages</strong> bridge the gap between <strong>agent intentions</strong> and <strong>external actions</strong>:
- Carry results from external function calls
- Provide structured data from APIs and services
- Enable agents to access real-world information and capabilities
- Support error handling and status reporting</p>
<h2 id="content-blocks-multimodal-communication">Content Blocks: Multimodal Communication<a class="headerlink" href="#content-blocks-multimodal-communication" title="Permanent link">&para;</a></h2>
<p>10xScale Agentflow's content block system enables <strong>rich, multimodal communication</strong> that goes far beyond simple text:</p>
<h3 id="text-blocks-fundamental-communication"><strong>Text Blocks</strong>: Fundamental Communication<a class="headerlink" href="#text-blocks-fundamental-communication" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">text_content</span> <span class="o">=</span> <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Here&#39;s how to optimize your code:&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Text blocks handle traditional linguistic communicationthe foundation of most agent interactions.</p>
<h3 id="media-blocks-rich-content-integration"><strong>Media Blocks</strong>: Rich Content Integration<a class="headerlink" href="#media-blocks-rich-content-integration" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Image content for visual explanations</span>
<span class="n">image_block</span> <span class="o">=</span> <span class="n">ImageBlock</span><span class="p">(</span>
    <span class="n">media</span><span class="o">=</span><span class="n">MediaRef</span><span class="p">(</span>
        <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;url&quot;</span><span class="p">,</span>
        <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/performance_chart.png&quot;</span><span class="p">,</span>
        <span class="n">mime_type</span><span class="o">=</span><span class="s2">&quot;image/png&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Code documentation with multimedia</span>
<span class="n">document_block</span> <span class="o">=</span> <span class="n">DocumentBlock</span><span class="p">(</span>
    <span class="n">media</span><span class="o">=</span><span class="n">MediaRef</span><span class="p">(</span>
        <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;file_id&quot;</span><span class="p">,</span>
        <span class="n">file_id</span><span class="o">=</span><span class="s2">&quot;code_example_123&quot;</span><span class="p">,</span>
        <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;optimized_example.py&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<p>Media blocks enable agents to communicate through:
- <strong>Visual explanations</strong> with images and diagrams
- <strong>Code examples</strong> with syntax highlighting
- <strong>Audio responses</strong> for accessibility
- <strong>Document references</strong> for detailed information</p>
<h3 id="tool-interaction-blocks-structured-actions"><strong>Tool Interaction Blocks</strong>: Structured Actions<a class="headerlink" href="#tool-interaction-blocks-structured-actions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Tool call request</span>
<span class="n">tool_call_block</span> <span class="o">=</span> <span class="n">ToolCallBlock</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;performance_analyzer_001&quot;</span><span class="p">,</span>
    <span class="n">function</span><span class="o">=</span><span class="s2">&quot;analyze_performance&quot;</span><span class="p">,</span>
    <span class="n">arguments</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;user_provided_code&quot;</span><span class="p">,</span> <span class="s2">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;memory&quot;</span><span class="p">]}</span>
<span class="p">)</span>

<span class="c1"># Tool result with structured data</span>
<span class="n">tool_result_block</span> <span class="o">=</span> <span class="n">ToolResultBlock</span><span class="p">(</span>
    <span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;performance_analyzer_001&quot;</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;execution_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2.3s&quot;</span><span class="p">,</span>
        <span class="s2">&quot;memory_usage&quot;</span><span class="p">:</span> <span class="s2">&quot;45MB&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bottlenecks&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;nested_loops&quot;</span><span class="p">,</span> <span class="s2">&quot;string_concatenation&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="n">is_error</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">status</span><span class="o">=</span><span class="s2">&quot;completed&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p>Tool blocks enable <strong>structured interaction</strong> with external systems and services.</p>
<h2 id="message-lifecycle-and-flow-patterns">Message Lifecycle and Flow Patterns<a class="headerlink" href="#message-lifecycle-and-flow-patterns" title="Permanent link">&para;</a></h2>
<p>Understanding how messages flow through agent graphs reveals the <strong>conversation dynamics</strong> that drive intelligent behavior:</p>
<h3 id="linear-conversation-flow"><strong>Linear Conversation Flow</strong><a class="headerlink" href="#linear-conversation-flow" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">conversation_flow</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;What&#39;s the weather?&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">),</span>
    <span class="n">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="n">tools_calls</span><span class="o">=</span><span class="p">[</span><span class="n">weather_tool_call</span><span class="p">]),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">([</span><span class="n">ToolResultBlock</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="s2">&quot;75F, sunny&quot;</span><span class="p">)]),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;It&#39;s 75F and sunny today!&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div>
<p>Linear flows represent straightforward <strong>question-answer</strong> patterns where each message builds directly on the previous interaction.</p>
<h3 id="branching-tool-interactions"><strong>Branching Tool Interactions</strong><a class="headerlink" href="#branching-tool-interactions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Complex flow with multiple tool calls</span>
<span class="n">initial_query</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;Plan a trip to Paris&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>

<span class="c1"># Assistant branches into multiple tool calls</span>
<span class="n">assistant_response</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;I&#39;ll help plan your Paris trip by checking flights, hotels, and attractions.&quot;</span><span class="p">)],</span>
    <span class="n">tools_calls</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;flight_001&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;search_flights&quot;</span><span class="p">}},</span>
        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;hotel_001&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;search_hotels&quot;</span><span class="p">}},</span>
        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;attraction_001&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;get_attractions&quot;</span><span class="p">}}</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Multiple parallel tool results</span>
<span class="n">tool_results</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">([</span><span class="n">ToolResultBlock</span><span class="p">(</span><span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;flight_001&quot;</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">flight_data</span><span class="p">)]),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">([</span><span class="n">ToolResultBlock</span><span class="p">(</span><span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;hotel_001&quot;</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">hotel_data</span><span class="p">)]),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">([</span><span class="n">ToolResultBlock</span><span class="p">(</span><span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;attraction_001&quot;</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">attraction_data</span><span class="p">)])</span>
<span class="p">]</span>

<span class="c1"># Synthesis response combining all information</span>
<span class="n">final_response</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;Based on my search, here&#39;s your complete Paris itinerary...&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Branching flows demonstrate how agents can <strong>orchestrate complex interactions</strong> involving multiple external services and data sources.</p>
<h3 id="contextual-message-chaining"><strong>Contextual Message Chaining</strong><a class="headerlink" href="#contextual-message-chaining" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Messages build contextual understanding</span>
<span class="n">context_chain</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;I&#39;m working on a web application&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;What kind of web application? What&#39;s the tech stack?&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;It&#39;s a React app with a Python backend&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;Are you using FastAPI, Django, or Flask for the backend?&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">),</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;FastAPI&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">),</span>
    <span class="c1"># Now the agent has rich context for targeted assistance</span>
    <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;Great! FastAPI with React is an excellent combination. What specific issue are you facing?&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div>
<p>Contextual chaining shows how agents build <strong>cumulative understanding</strong> through progressive message exchanges.</p>
<h2 id="advanced-message-patterns">Advanced Message Patterns<a class="headerlink" href="#advanced-message-patterns" title="Permanent link">&para;</a></h2>
<h3 id="streaming-and-delta-messages"><strong>Streaming and Delta Messages</strong><a class="headerlink" href="#streaming-and-delta-messages" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Streaming response pattern</span>
<span class="n">streaming_messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Let me explain&quot;</span><span class="p">)],</span> <span class="n">delta</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot; machine learning&quot;</span><span class="p">)],</span> <span class="n">delta</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot; concepts step by step.&quot;</span><span class="p">)],</span> <span class="n">delta</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Message</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Let me explain machine learning concepts step by step.&quot;</span><span class="p">)],</span> <span class="n">delta</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Final complete message</span>
<span class="p">]</span>
</code></pre></div>
<p><strong>Delta messages</strong> enable <strong>real-time streaming</strong> of responses, providing immediate feedback while content is being generated.</p>
<h3 id="error-handling-and-recovery"><strong>Error Handling and Recovery</strong><a class="headerlink" href="#error-handling-and-recovery" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Error message with recovery context</span>
<span class="n">error_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">ToolResultBlock</span><span class="p">(</span>
        <span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;api_call_001&quot;</span><span class="p">,</span>
        <span class="n">output</span><span class="o">=</span><span class="s2">&quot;API rate limit exceeded. Will retry in 60 seconds.&quot;</span><span class="p">,</span>
        <span class="n">is_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="s2">&quot;failed&quot;</span>
    <span class="p">)],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;retry_after&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
        <span class="s2">&quot;retry_strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential_backoff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alternative_actions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;use_cached_data&quot;</span><span class="p">,</span> <span class="s2">&quot;simplify_request&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Error messages</strong> provide <strong>structured failure information</strong> that enables intelligent recovery strategies.</p>
<h3 id="metadata-rich-communication"><strong>Metadata-Rich Communication</strong><a class="headerlink" href="#metadata-rich-communication" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Message with rich contextual metadata</span>
<span class="n">contextual_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span>
    <span class="s2">&quot;Based on your previous projects, I recommend using TypeScript&quot;</span><span class="p">,</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;confidence&quot;</span><span class="p">:</span> <span class="mf">0.92</span><span class="p">,</span>
        <span class="s2">&quot;reasoning&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user_has_javascript_experience&quot;</span><span class="p">,</span> <span class="s2">&quot;project_complexity_high&quot;</span><span class="p">,</span> <span class="s2">&quot;team_collaboration_needs&quot;</span><span class="p">],</span>
        <span class="s2">&quot;alternatives&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;JavaScript&quot;</span><span class="p">,</span> <span class="s2">&quot;confidence&quot;</span><span class="p">:</span> <span class="mf">0.76</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Python&quot;</span><span class="p">,</span> <span class="s2">&quot;confidence&quot;</span><span class="p">:</span> <span class="mf">0.45</span><span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;knowledge_sources&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;user_profile&quot;</span><span class="p">,</span> <span class="s2">&quot;project_analysis&quot;</span><span class="p">,</span> <span class="s2">&quot;best_practices_db&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Rich metadata</strong> enables <strong>transparent reasoning</strong> and provides context for decision-making processes.</p>
<h2 id="message-creation-patterns-and-best-practices">Message Creation Patterns and Best Practices<a class="headerlink" href="#message-creation-patterns-and-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="factory-methods-for-common-cases"><strong>Factory Methods for Common Cases</strong><a class="headerlink" href="#factory-methods-for-common-cases" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Quick text message creation</span>
<span class="n">user_input</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;Help me debug this code&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>

<span class="c1"># Tool result message with structured data</span>
<span class="n">tool_result</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">tool_message</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">ToolResultBlock</span><span class="p">(</span>
        <span class="n">call_id</span><span class="o">=</span><span class="s2">&quot;debug_001&quot;</span><span class="p">,</span>
        <span class="n">output</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;error_type&quot;</span><span class="p">:</span> <span class="s2">&quot;NameError&quot;</span><span class="p">,</span> <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">&quot;suggestion&quot;</span><span class="p">:</span> <span class="s2">&quot;Define variable &#39;x&#39; before use&quot;</span><span class="p">}</span>
    <span class="p">)]</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Factory methods</strong> provide <strong>convenient shortcuts</strong> for common message creation patterns.</p>
<h3 id="content-assembly-patterns"><strong>Content Assembly Patterns</strong><a class="headerlink" href="#content-assembly-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Building complex multi-block messages</span>
<span class="n">complex_message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;I found several issues in your code:&quot;</span><span class="p">),</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;1. Variable naming inconsistency&quot;</span><span class="p">),</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;2. Missing error handling&quot;</span><span class="p">),</span>
        <span class="c1"># Add visual aid</span>
        <span class="n">ImageBlock</span><span class="p">(</span><span class="n">media</span><span class="o">=</span><span class="n">MediaRef</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;error_diagram.png&quot;</span><span class="p">)),</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Here&#39;s the corrected version:&quot;</span><span class="p">),</span>
        <span class="n">DocumentBlock</span><span class="p">(</span><span class="n">media</span><span class="o">=</span><span class="n">MediaRef</span><span class="p">(</span><span class="n">file_id</span><span class="o">=</span><span class="s2">&quot;corrected_code.py&quot;</span><span class="p">))</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Multi-block assembly</strong> enables <strong>rich, structured communication</strong> combining text, visuals, and documents.</p>
<h3 id="contextual-message-enrichment"><strong>Contextual Message Enrichment</strong><a class="headerlink" href="#contextual-message-enrichment" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">enrich_message_with_context</span><span class="p">(</span><span class="n">base_message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enrich a message with contextual information.&quot;&quot;&quot;</span>

    <span class="c1"># Add user context</span>
    <span class="n">base_message</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="s2">&quot;user_expertise&quot;</span><span class="p">:</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_level&quot;</span><span class="p">,</span> <span class="s2">&quot;intermediate&quot;</span><span class="p">),</span>
        <span class="s2">&quot;preferred_style&quot;</span><span class="p">:</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;communication_style&quot;</span><span class="p">,</span> <span class="s2">&quot;detailed&quot;</span><span class="p">),</span>
        <span class="s2">&quot;previous_topics&quot;</span><span class="p">:</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recent_topics&quot;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="p">})</span>

    <span class="c1"># Add temporal context</span>
    <span class="n">base_message</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;session_duration&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;session_time&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">base_message</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;message_sequence&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message_count&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">base_message</span>
</code></pre></div>
<p><strong>Context enrichment</strong> transforms simple messages into <strong>intelligence-aware</strong> communications.</p>
<h2 id="token-management-and-optimization">Token Management and Optimization<a class="headerlink" href="#token-management-and-optimization" title="Permanent link">&para;</a></h2>
<h3 id="token-usage-tracking"><strong>Token Usage Tracking</strong><a class="headerlink" href="#token-usage-tracking" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Message with token usage information</span>
<span class="n">response_with_usage</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Here&#39;s a comprehensive analysis...&quot;</span><span class="p">)],</span>
    <span class="n">usages</span><span class="o">=</span><span class="n">TokenUsages</span><span class="p">(</span>
        <span class="n">prompt_tokens</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
        <span class="n">completion_tokens</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span>
        <span class="n">total_tokens</span><span class="o">=</span><span class="mi">225</span><span class="p">,</span>
        <span class="n">reasoning_tokens</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>  <span class="c1"># For models that provide reasoning token counts</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Usage tracking</strong> enables <strong>cost management</strong> and <strong>performance optimization</strong> in production systems.</p>
<h3 id="content-optimization-strategies"><strong>Content Optimization Strategies</strong><a class="headerlink" href="#content-optimization-strategies" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">optimize_message_for_context_window</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">max_tokens</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Optimize message content for context window constraints.&quot;&quot;&quot;</span>

    <span class="n">current_tokens</span> <span class="o">=</span> <span class="n">estimate_tokens</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">current_tokens</span> <span class="o">&lt;=</span> <span class="n">max_tokens</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">message</span>

    <span class="c1"># Strategy 1: Summarize long text blocks</span>
    <span class="n">optimized_content</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">block</span> <span class="ow">in</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">TextBlock</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
            <span class="n">summary</span> <span class="o">=</span> <span class="n">summarize_text</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">target_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
            <span class="n">optimized_content</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">summary</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">optimized_content</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>

    <span class="c1"># Strategy 2: Remove non-essential metadata</span>
    <span class="n">essential_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">message</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                         <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;session_id&quot;</span><span class="p">,</span> <span class="s2">&quot;priority&quot;</span><span class="p">]}</span>

    <span class="k">return</span> <span class="n">Message</span><span class="p">(</span>
        <span class="n">role</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
        <span class="n">content</span><span class="o">=</span><span class="n">optimized_content</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">essential_metadata</span><span class="p">,</span>
        <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span>
    <span class="p">)</span>
</code></pre></div>
<p><strong>Content optimization</strong> ensures <strong>efficient resource utilization</strong> while preserving communication effectiveness.</p>
<h2 id="message-validation-and-quality-assurance">Message Validation and Quality Assurance<a class="headerlink" href="#message-validation-and-quality-assurance" title="Permanent link">&para;</a></h2>
<h3 id="content-validation-patterns"><strong>Content Validation Patterns</strong><a class="headerlink" href="#content-validation-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_message_integrity</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate message structure and content quality.&quot;&quot;&quot;</span>

    <span class="c1"># Basic structure validation</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">message</span><span class="o">.</span><span class="n">role</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># Role-specific validation</span>
    <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">role</span> <span class="o">==</span> <span class="s2">&quot;tool&quot;</span><span class="p">:</span>
        <span class="c1"># Tool messages must have tool results</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">ToolResultBlock</span><span class="p">)</span> <span class="k">for</span> <span class="n">block</span> <span class="ow">in</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">role</span> <span class="o">==</span> <span class="s2">&quot;assistant&quot;</span> <span class="ow">and</span> <span class="n">message</span><span class="o">.</span><span class="n">tools_calls</span><span class="p">:</span>
        <span class="c1"># Assistant with tool calls should have corresponding content</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">tools_calls</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="c1"># Content quality checks</span>
    <span class="k">for</span> <span class="n">block</span> <span class="ow">in</span> <span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">TextBlock</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Empty text blocks</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
<p><strong>Validation patterns</strong> ensure <strong>message quality</strong> and <strong>system reliability</strong>.</p>
<h3 id="consistency-verification"><strong>Consistency Verification</strong><a class="headerlink" href="#consistency-verification" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">verify_conversation_consistency</span><span class="p">(</span><span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify logical consistency in message flow.&quot;&quot;&quot;</span>

    <span class="n">issues</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">msg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">messages</span><span class="p">):</span>
        <span class="c1"># Check tool call/result pairing</span>
        <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">role</span> <span class="o">==</span> <span class="s2">&quot;assistant&quot;</span> <span class="ow">and</span> <span class="n">msg</span><span class="o">.</span><span class="n">tools_calls</span><span class="p">:</span>
            <span class="c1"># Next message should be tool result</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span> <span class="ow">or</span> <span class="n">messages</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">role</span> <span class="o">!=</span> <span class="s2">&quot;tool&quot;</span><span class="p">:</span>
                <span class="n">issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Message </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">: Tool call without corresponding result&quot;</span><span class="p">)</span>

        <span class="c1"># Check role transitions</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">prev_role</span> <span class="o">=</span> <span class="n">messages</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">role</span>
            <span class="n">curr_role</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">role</span>

            <span class="c1"># Invalid transitions</span>
            <span class="k">if</span> <span class="n">prev_role</span> <span class="o">==</span> <span class="s2">&quot;tool&quot;</span> <span class="ow">and</span> <span class="n">curr_role</span> <span class="o">!=</span> <span class="s2">&quot;assistant&quot;</span><span class="p">:</span>
                <span class="n">issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Message </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">: Tool result not followed by assistant response&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">issues</span>
</code></pre></div>
<p><strong>Consistency verification</strong> maintains <strong>conversation coherence</strong> and helps debug interaction flows.</p>
<h2 id="integration-with-agent-architecture">Integration with Agent Architecture<a class="headerlink" href="#integration-with-agent-architecture" title="Permanent link">&para;</a></h2>
<h3 id="state-integration-patterns"><strong>State Integration Patterns</strong><a class="headerlink" href="#state-integration-patterns" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">integrate_message_with_state</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">AgentState</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgentState</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Integrate a new message into agent state.&quot;&quot;&quot;</span>

    <span class="c1"># Add to conversation context</span>
    <span class="n">state</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

    <span class="c1"># Update execution metadata if needed</span>
    <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">role</span> <span class="o">==</span> <span class="s2">&quot;assistant&quot;</span><span class="p">:</span>
        <span class="n">state</span><span class="o">.</span><span class="n">execution_meta</span><span class="o">.</span><span class="n">advance_step</span><span class="p">()</span>

    <span class="c1"># Extract and store insights</span>
    <span class="k">if</span> <span class="n">message</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;extract_insights&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">insights</span> <span class="o">=</span> <span class="n">extract_message_insights</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="n">state</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;learned_insights&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">state</span>
</code></pre></div>
<p><strong>State integration</strong> connects <strong>individual messages</strong> to <strong>larger conversation context</strong>.</p>
<h3 id="cross-node-message-flow"><strong>Cross-Node Message Flow</strong><a class="headerlink" href="#cross-node-message-flow" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">message_flow_node</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="n">AgentState</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Node that processes and transforms message flow.&quot;&quot;&quot;</span>

    <span class="c1"># Analyze incoming context</span>
    <span class="n">recent_messages</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>  <span class="c1"># Last 5 messages</span>

    <span class="c1"># Extract conversation patterns</span>
    <span class="n">patterns</span> <span class="o">=</span> <span class="n">analyze_conversation_patterns</span><span class="p">(</span><span class="n">recent_messages</span><span class="p">)</span>

    <span class="c1"># Generate contextually appropriate response</span>
    <span class="k">if</span> <span class="n">patterns</span><span class="o">.</span><span class="n">indicates_confusion</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span>
            <span class="s2">&quot;Let me clarify that point...&quot;</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;response_type&quot;</span><span class="p">:</span> <span class="s2">&quot;clarification&quot;</span><span class="p">}</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">patterns</span><span class="o">.</span><span class="n">indicates_completion</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span>
            <span class="s2">&quot;Is there anything else I can help you with?&quot;</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;response_type&quot;</span><span class="p">:</span> <span class="s2">&quot;completion_check&quot;</span><span class="p">}</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">generate_standard_response</span><span class="p">(</span><span class="n">recent_messages</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">response</span><span class="p">]</span>
</code></pre></div>
<p><strong>Node integration</strong> enables <strong>intelligent message processing</strong> within agent graph workflows.</p>
<h2 id="best-practices-for-message-design">Best Practices for Message Design<a class="headerlink" href="#best-practices-for-message-design" title="Permanent link">&para;</a></h2>
<h3 id="design-for-observability"><strong>Design for Observability</strong><a class="headerlink" href="#design-for-observability" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Good: Rich, observable message</span>
<span class="n">observable_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span>
    <span class="s2">&quot;I&#39;ve analyzed your code and found 3 optimization opportunities&quot;</span><span class="p">,</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;analysis_time&quot;</span><span class="p">:</span> <span class="mf">1.2</span><span class="p">,</span>
        <span class="s2">&quot;confidence&quot;</span><span class="p">:</span> <span class="mf">0.89</span><span class="p">,</span>
        <span class="s2">&quot;issues_found&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;model_used&quot;</span><span class="p">:</span> <span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;reasoning_steps&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;syntax_analysis&quot;</span><span class="p">,</span> <span class="s2">&quot;performance_profiling&quot;</span><span class="p">,</span> <span class="s2">&quot;best_practices_check&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Avoid: Opaque message</span>
<span class="n">opaque_message</span> <span class="o">=</span> <span class="n">Message</span><span class="o">.</span><span class="n">text_message</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="optimize-for-context-window-management"><strong>Optimize for Context Window Management</strong><a class="headerlink" href="#optimize-for-context-window-management" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Good: Structured, contextual message</span>
<span class="n">structured_message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Summary: Found 3 performance issues&quot;</span><span class="p">),</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Details available in attached report&quot;</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;summary&quot;</span><span class="p">:</span> <span class="s2">&quot;3 performance issues identified&quot;</span><span class="p">,</span>
        <span class="s2">&quot;details_available&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;medium&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="enable-graceful-degradation"><strong>Enable Graceful Degradation</strong><a class="headerlink" href="#enable-graceful-degradation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Good: Message with fallback content</span>
<span class="n">robust_message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span>
    <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="p">[</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Here&#39;s the visual analysis:&quot;</span><span class="p">),</span>
        <span class="n">ImageBlock</span><span class="p">(</span><span class="n">media</span><span class="o">=</span><span class="n">MediaRef</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;analysis.png&quot;</span><span class="p">)),</span>
        <span class="n">TextBlock</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;If the image doesn&#39;t load: The analysis shows 40</span><span class="si">% i</span><span class="s2">mprovement in performance after optimization.&quot;</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="conclusion-messages-as-the-foundation-of-intelligence">Conclusion: Messages as the Foundation of Intelligence<a class="headerlink" href="#conclusion-messages-as-the-foundation-of-intelligence" title="Permanent link">&para;</a></h2>
<p>Messages in 10xScale Agentflow are the <strong>fundamental building blocks</strong> of agent intelligence. They are:</p>
<ul>
<li><strong>Rich communication artifacts</strong> that carry content, context, and metadata</li>
<li><strong>Flexible containers</strong> supporting multimodal communication patterns</li>
<li><strong>Structured entities</strong> enabling sophisticated conversation flows</li>
<li><strong>Observable objects</strong> providing transparency into agent reasoning</li>
<li><strong>Extensible frameworks</strong> supporting evolving communication needs</li>
</ul>
<p>By understanding messages deeplytheir structure, lifecycle, patterns, and integration possibilitiesyou can build agents that engage in <strong>sophisticated, contextual, and intelligent</strong> conversations that feel natural, helpful, and genuinely intelligent.</p>
<p>The key insight is that <strong>great agent communication starts with great message design</strong>. When messages carry rich context, maintain consistency, and integrate seamlessly with agent architecture, everything elsefrom simple Q&amp;A to complex multi-tool workflowsbecomes significantly more capable and reliable.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.pagination", "navigation.goto_top", "navigation.path", "navigation.tabs", "navigation.top", "search-suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>